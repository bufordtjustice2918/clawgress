<?xml version="1.0"?>
<interfaceDefinition>
  <node name="interfaces">
    <properties>
      <help>Network interfaces</help>
    </properties>
    <children>
      <tagNode name="ethernet" owner="${vyos_conf_scripts_dir}/interfaces_ethernet.py">
        <properties>
          <help>Ethernet Interface</help>
          <priority>318</priority>
          <valueHelp>
            <format>ethN</format>
            <description>Ethernet interface name</description>
          </valueHelp>
          <constraint>
            <regex>((eth|lan)[0-9]+|(eno|ens|enp|enx).+)</regex>
          </constraint>
          <constraintErrorMessage>Invalid Ethernet interface name</constraintErrorMessage>
        </properties>
        <children>
          #include <include/interface/address-ipv4-ipv6-dhcp.xml.i>
          #include <include/generic-description.xml.i>
          #include <include/interface/dhcp-options.xml.i>
          #include <include/interface/dhcpv6-options.xml.i>
          <leafNode name="disable-flow-control">
            <properties>
              <help>Disable Ethernet flow control (pause frames)</help>
              <valueless/>
            </properties>
          </leafNode>
          #include <include/interface/disable-link-detect.xml.i>
          #include <include/interface/disable.xml.i>
          <leafNode name="duplex">
            <properties>
              <help>Duplex mode</help>
              <completionHelp>
                <list>auto half full</list>
              </completionHelp>
              <valueHelp>
                <format>auto</format>
                <description>Auto negotiation</description>
              </valueHelp>
              <valueHelp>
                <format>half</format>
                <description>Half duplex</description>
              </valueHelp>
              <valueHelp>
                <format>full</format>
                <description>Full duplex</description>
              </valueHelp>
              <constraint>
                <regex>(auto|half|full)</regex>
              </constraint>
              <constraintErrorMessage>duplex must be auto, half or full</constraintErrorMessage>
            </properties>
            <defaultValue>auto</defaultValue>
          </leafNode>
          <leafNode name="switchdev">
            <properties>
              <help>Enables switchdev mode on interface</help>
              <valueless/>
            </properties>
          </leafNode>
          #include <include/interface/eapol.xml.i>
          <node name="evpn">
            <properties>
              <help>EVPN Multihoming</help>
            </properties>
            <children>
              #include <include/interface/evpn-mh-uplink.xml.i>
            </children>
          </node>
          #include <include/interface/hw-id.xml.i>
          #include <include/interface/ipv4-options.xml.i>
          #include <include/interface/ipv6-options.xml.i>
          #include <include/interface/ipv6-options-with-nd.xml.i>
          #include <include/interface/mac.xml.i>
          #include <include/interface/mtu-68-16000.xml.i>
          #include <include/interface/mirror.xml.i>
          <node name="offload">
            <properties>
              <help>Configurable offload options</help>
            </properties>
            <children>
              <leafNode name="gro">
                <properties>
                  <help>Enable Generic Receive Offload</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="gso">
                <properties>
                  <help>Enable Generic Segmentation Offload</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="hw-tc-offload">
                <properties>
                  <help>Enable Hardware Flow Offload</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="lro">
                <properties>
                  <help>Enable Large Receive Offload</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="rps">
                <properties>
                  <help>Enable Receive Packet Steering</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="rfs">
                <properties>
                  <help>Enable Receive Flow Steering</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="sg">
                <properties>
                  <help>Enable Scatter-Gather</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="tso">
                <properties>
                  <help>Enable TCP Segmentation Offloading</help>
                  <valueless/>
                </properties>
              </leafNode>
            </children>
          </node>
          <leafNode name="speed">
            <properties>
              <help>Link speed</help>
              <completionHelp>
                <list>auto 10 100 1000 2500 5000 10000 25000 40000 50000 100000</list>
              </completionHelp>
              <valueHelp>
                <format>auto</format>
                <description>Auto negotiation</description>
              </valueHelp>
              <valueHelp>
                <format>10</format>
                <description>10 Mbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>100</format>
                <description>100 Mbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>1000</format>
                <description>1 Gbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>2500</format>
                <description>2.5 Gbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>5000</format>
                <description>5 Gbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>10000</format>
                <description>10 Gbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>25000</format>
                <description>25 Gbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>40000</format>
                <description>40 Gbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>50000</format>
                <description>50 Gbit/sec</description>
              </valueHelp>
              <valueHelp>
                <format>100000</format>
                <description>100 Gbit/sec</description>
              </valueHelp>
              <constraint>
                <regex>(auto|10|100|1000|2500|5000|10000|25000|40000|50000|100000)</regex>
              </constraint>
              <constraintErrorMessage>Speed must be auto, 10, 100, 1000, 2500, 5000, 10000, 25000, 40000, 50000 or 100000</constraintErrorMessage>
            </properties>
            <defaultValue>auto</defaultValue>
          </leafNode>
          <node name="ring-buffer">
            <properties>
              <help>Shared buffer between the device driver and NIC</help>
            </properties>
            <children>
              <leafNode name="rx">
                <properties>
                  <help>RX ring buffer</help>
                  <valueHelp>
                    <format>u32:80-16384</format>
                    <description>ring buffer size</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 80-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx">
                <properties>
                  <help>TX ring buffer</help>
                  <valueHelp>
                    <format>u32:80-16384</format>
                    <description>ring buffer size</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 80-16384"/>
                  </constraint>
                </properties>
              </leafNode>
            </children>
          </node>
          <node name="interrupt-coalescing">
            <properties>
              <help>Interrupt coalescing options for the interface</help>
            </properties>
            <children>
              <leafNode name="adaptive-rx">
                <properties>
                  <help>Enable adaptive receive interrupt coalescing</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="adaptive-tx">
                <properties>
                  <help>Enable adaptive transmit interrupt coalescing</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="rx-usecs">
                <properties>
                  <help>Delay in microseconds before generating RX interrupt</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>RX interrupt coalescing delay</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="rx-frames">
                <properties>
                  <help>Number of RX frames before generating interrupt</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>RX interrupt coalescing frames threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="rx-usecs-irq">
                <properties>
                  <help>Delay in microseconds before generating RX interrupt while servicing IRQ</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>RX IRQ interrupt coalescing delay</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="rx-frames-irq">
                <properties>
                  <help>Number of RX frames before generating interrupt while servicing IRQ</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>RX IRQ interrupt coalescing frames threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-usecs">
                <properties>
                  <help>Delay in microseconds before generating TX interrupt</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>TX interrupt coalescing delay</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-frames">
                <properties>
                  <help>Number of TX frames before generating interrupt</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>TX interrupt coalescing frames threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-usecs-irq">
                <properties>
                  <help>Delay in microseconds before generating TX interrupt while servicing IRQ</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>TX IRQ interrupt coalescing delay</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-frames-irq">
                <properties>
                  <help>Number of TX frames before generating interrupt while servicing IRQ</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>TX IRQ interrupt coalescing frames threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="stats-block-usecs">
                <properties>
                  <help>Time in microseconds between updating coalescing statistics</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>Statistics block interval</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="pkt-rate-low">
                <properties>
                  <help>Lower packet rate threshold for adaptive coalescing</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>Low packet rate threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="rx-usecs-low">
                <properties>
                  <help>RX coalescing delay (usecs) for low packet rate</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>Low-rate RX coalescing delay</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="rx-frame-low">
                <properties>
                  <help>RX coalescing frames threshold for low packet rate</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>Low-rate RX coalescing frames threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-usecs-low">
                <properties>
                  <help>TX coalescing delay (usecs) for low packet rate</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>Low-rate TX coalescing delay</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-frame-low">
                <properties>
                  <help>TX coalescing frames threshold for low packet rate</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>Low-rate TX coalescing frames threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="pkt-rate-high">
                <properties>
                  <help>Upper packet rate threshold for adaptive coalescing</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>High packet rate threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="rx-usecs-high">
                <properties>
                  <help>RX coalescing delay (usecs) for high packet rate</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>High-rate RX coalescing delay</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="rx-frame-high">
                <properties>
                  <help>RX coalescing frames threshold for high packet rate</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>High-rate RX coalescing frames threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-usecs-high">
                <properties>
                  <help>TX coalescing delay (usecs) for high packet rate</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>High-rate TX coalescing delay</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-frame-high">
                <properties>
                  <help>TX coalescing frames threshold for high packet rate</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>High-rate TX coalescing frames threshold</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="sample-interval">
                <properties>
                  <help>Sampling interval for adaptive coalescing (in seconds)</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>Adaptive sampling interval</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="cqe-mode-rx">
                <properties>
                  <help>Enable RX CQE (Completion Queue Entry) mode</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="cqe-mode-tx">
                <properties>
                  <help>Enable TX CQE (Completion Queue Entry) mode</help>
                  <valueless/>
                </properties>
              </leafNode>
              <leafNode name="tx-aggr-max-bytes">
                <properties>
                  <help>Maximum number of bytes to aggregate before transmitting</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>TX aggregation maximum bytes</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-aggr-max-frames">
                <properties>
                  <help>Maximum number of frames to aggregate before transmitting</help>
                  <valueHelp>
                    <format>u32:0-4294967295</format>
                    <description>TX aggregation maximum frames</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-4294967295"/>
                  </constraint>
                </properties>
              </leafNode>
              <leafNode name="tx-aggr-time-usecs">
                <properties>
                  <help>Maximum time in microseconds to wait before transmitting aggregated frames</help>
                  <valueHelp>
                    <format>u32:0-16384</format>
                    <description>TX aggregation timeout</description>
                  </valueHelp>
                  <constraint>
                    <validator name="numeric" argument="--range 0-16384"/>
                  </constraint>
                </properties>
              </leafNode>
            </children>
          </node>
          #include <include/interface/redirect.xml.i>
          #include <include/interface/vif-s.xml.i>
          #include <include/interface/vif.xml.i>
          #include <include/interface/vrf.xml.i>
        </children>
      </tagNode>
    </children>
  </node>
</interfaceDefinition>
